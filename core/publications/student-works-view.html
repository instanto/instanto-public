<nav class="navbar navbar-inverse secondary-navbar secondary-navbar-appear">
    <div class="container-fluid top-navbar-inner">
        <div class="navbar-header">
            <button data-toggle="collapse" class="navbar-toggle collapsed" type="button"
                    data-target="#bs-example-navbar-collapse-2">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
            <form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <input type="text" class="form-control subnav-input" 
                           ng-model="studentWorkSearch.nameBox" placeholder="Search" title="Search by (almost) any field">
                </div>
            </form>

            <div class="v-sep"></div>

            <form class="navbar-form navbar-left">
                <select class="form-control subnav-input" ng-model="studentWorkSearch.criteria">
                    <option value="" disabled>Order by...</option>   
                    <option value="title">Title</option>
                    <option value="year">Year</option>
                    <option value="author">Author</option>
                    <option value="school">School</option>
                    <option value="student_work_type">Work type</option>
                </select>
            </form>

            <div class="v-sep"></div>
           
            <form class="navbar-form navbar-left">
                <select class="form-control subnav-input" ng-model="studentWorkSearch.reversedTmp">
                    <option value="" disabled>Order way...</option>   
                    <option value="true">Ascendant</option>
                    <option value="false">Descendant</option>
                </select>
            </form>

            <div class="v-sep"></div>
            
            <form class="navbar-form navbar-left">
                <div class="checkbox" ng-click="toggleWorks()" title="Open or close all the work boxes">
                    <label>
                        <input type="checkbox" ng-model="studentWorkSearch.toggleOn">
                        &nbsp;<span>Toggle all</span>
                    </label>
                </div>
            </form>
        </div>
    </div>
</nav>

<div class="public-page-wrapper">

    <p class="lead">{{ ::general.description }}</p>

    <header>
        <h3 class="member-page-title">Student works</h3>
        <div class="stats stats-1">
            <ul>
                <li><label>Total number:</label> {{ studentWorks.length }}</li>
            </ul>
        </div>
    </header>
    
    <hr class="member-page-sep">
    
    <ul class="default-list project-list">
        <li class="list-group" 
            ng-repeat="work in studentWorks | filter  : studentWorkSearch.nameBox
                                            | orderBy : studentWorkSearch.criteria : studentWorkSearch.reversed">
            <span ng-class="{ 'project-list-item-open': work.openBox }"
                     class="list-group-item project-list-item">
                <header ng-click="toggleWorkBox(work.genuineIdx)" title="See details">
                    <h4 class="list-group-item-heading">{{ work.title }}</h4>
                    <button role="presentation"><span class="glyphicon glyphicon-chevron-down"></span></button>
                </header>
                <section ng-show="work.openBox">
                    <ul class="list-group-item-text">
                        <li><label>Author:</label> 
                            <a ui-sref="member-detail({ id: work.author })">{{ work.author_name }}</a></li>
                        <li><label>School:</label> {{ work.school }}</li>
                        <li><label>Year:</label> {{ work.year }}</li>
                        <li><label>Work type:</label> {{ work.type_name }}</li>
                        <li><label>Volumne:</label> {{ work.volume }}</li>
                        <li><label>Research lines:</label> 
                            <span ng-repeat="line in work.researchLines">
                                <a ui-sref="research-detail({ id: line.id })">{{ line.title }}</a><span ng-if="!$last">, </span>
                            </span>
                        </li>
                    </ul>
                </section>
            </span>
        </li>
    </ul>

</div>